<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¡Perdóname! 🥺</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap');

        /* Definición de la animación de sacudida (Botón NO imposible) */
        @keyframes shake {
            0% { transform: translateX(0); }
            20% { transform: translateX(-8px); } 
            40% { transform: translateX(8px); }
            60% { transform: translateX(-8px); }
            80% { transform: translateX(8px); }
            100% { transform: translateX(0); }
        }

        /* Definición de la animación de parpadeo para el corazón (Página 2) */
        @keyframes blink-animation {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* --- Animación de Corazones Cayendo --- */
        @keyframes fall {
            0% {
                transform: translateY(-100vh); 
                opacity: 0;
            }
            10% {
                opacity: 1; 
            }
            80% {
                opacity: 0.8; 
            }
            100% {
                transform: translateY(100vh); 
                opacity: 0; 
            }
        }

        /* ESTILOS GLOBALES Y DE PÁGINA 1 (DISCULPA SUAVE) */
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #ffffff;
            font-family: 'Poppins', sans-serif;
            text-align: center;
            color: #333;
            padding: 10px;
            overflow: hidden; 
            position: relative; 
            
            /* PROPIEDADES CLAVE PARA ELIMINAR LA SELECCIÓN/RESALTE AZUL */
            user-select: none; 
            -webkit-user-select: none; 
            -moz-user-select: none; 
            -ms-user-select: none;
            -webkit-tap-highlight-color: transparent; /* Elimina el recuadro azul al tocar */
        }

        /* Contenedor de corazones que caerán */
        .falling-hearts-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; 
            overflow: hidden; 
            z-index: 0; 
        }

        .falling-heart {
            position: absolute;
            color: #ff3399; 
            font-size: 0.8em; 
            opacity: 0;
            animation: fall linear infinite;
            pointer-events: none;
        }

        .container {
            max-width: 280px; 
            width: 100%;
            position: relative; 
            z-index: 1; 
        }

        .cat-image {
            width: 120px; 
            height: auto;
            margin-bottom: 10px;
            border-radius: 10px;
        }

        .question {
            font-size: 1.3em; 
            font-weight: 700;
            color: #000000;
            margin-bottom: 15px;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 0.9em; 
            font-weight: 400;
            color: #ec0d6d;
            margin-bottom: 20px;
        }

        .buttons-container {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-top: 10px;
        }

        .button {
            padding: 10px 18px; 
            border-radius: 50px; 
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 700;
            color: white;
            text-transform: uppercase;
            width: 110px; 
            box-shadow: 0 0 10px rgba(255, 51, 153, 0.6), 
                        0 0 20px rgba(255, 51, 153, 0.4); 
            flex-grow: 1;
            transition: all 0.2s ease-out; 
            
            /* Aseguramos que los botones tampoco se seleccionen ni resalten */
            user-select: none; 
            -webkit-user-select: none; 
            -moz-user-select: none; 
            -ms-user-select: none;
            -webkit-tap-highlight-color: transparent; 
        }
        
        .button:focus { 
            outline: none; 
            box-shadow: 0 0 15px #ff3399, 
                        0 0 30px #ff3399,
                        0 0 45px rgba(255, 51, 153, 0.3); 
        }

        .button.si, .button.no {
            background-color: #ff3399; 
            box-shadow: 0 0 10px rgba(255, 51, 153, 0.6), 
                        0 0 20px rgba(255, 51, 153, 0.4);
        }

        .emoji-sad {
            font-size: 1.3em;
            display: block;
            margin: 5px auto 5px; 
        }

        /* --- ESTILOS DE PÁGINA 2 (FONDO BLANCO) --- */
        body.mode-no-sad-cat {
            background-color: #ffffff; 
            color: #000000; 
        }
        body.mode-no-sad-cat .cat-image { width: 130px; margin-bottom: 25px; } 
        body.mode-no-sad-cat .question { color: #000000; font-size: 1.2em; margin-bottom: 10px; } 
        body.mode-no-sad-cat .subtitle { color: #ec0d6d; font-size: 0.7em; margin-bottom: 20px; } 
        
        .heart-blink {
            font-size: 1.3em; 
            color: #ff3399; 
            animation: blink-animation 1.5s infinite; 
        }

        /* --- ESTILOS DE PÁGINA 3 (SERÁS MÍA / COMPACTA Y EN LÍNEA) --- */
        body.mode-seras-mia {
            background-color: #ffffff;
            color: #000000;
        }

        body.mode-seras-mia .cat-image { 
            width: 120px; 
            margin-top: 20px; 
            margin-bottom: 10px; 
        }
        body.mode-seras-mia .question { font-size: 1.1em; margin-bottom: 10px; }
        
        .seras-mia-buttons { 
            display: flex;
            flex-direction: column; 
            align-items: center; 
            gap: 10px;
            margin-top: 10px;
            width: 100%;
        }

        .button-no-wrapper {
            position: relative; 
            width: 100%; 
            max-width: 280px; 
            height: 40px; 
            display: flex;
            justify-content: flex-end; 
            transition: all 0.2s ease-out; 
        }

        .seras-mia-buttons .button.si,
        .seras-mia-buttons .button.no {
            position: static; 
            width: 100%;
            max-width: 130px; 
            font-size: 0.9em;
            flex-grow: 0; 
        }

        .button-no-wrapper .button.no {
            margin: 0;
            position: absolute;
            right: 0;
            top: 0;
            transition: transform 0.2s ease-out; 
        }

        .button-no-wrapper .shake-animation {
            animation: shake 0.3s cubic-bezier(.36,.07,.19,.97) both;
            transform: translate3d(0, 0, 0);
            backface-visibility: hidden;
            perspective: 1000px;
        }

        .emojis-flex { font-size: 1.3em; margin-bottom: 8px; }

        /* --- ESTILOS PARA LA PÁGINA DE AGRADECIMIENTO (¡SI ACEPTADO!) --- */
        .accepted-image {
            width: 100px; 
            height: auto;
            margin: 20px 0 10px 0;
        }
        
        body.mode-accepted .question {
            color: #000000; 
            font-size: 1.3em; 
            margin-top: 10px;
        }
        body.mode-accepted .subtitle {
            color: #ff3399;
            font-size: 0.9em; 
        }

    </style>
    <script>
        // --- FUNCIÓN PARA GENERAR CORAZONES ALEATORIOS (Velocidad variable) ---
        function createFallingHearts(baseDuration = 10) {
            // Eliminar corazones anteriores
            const existingContainer = document.querySelector('.falling-hearts-container');
            if (existingContainer) {
                existingContainer.innerHTML = ''; 
            } else {
                 const container = document.createElement('div');
                 container.classList.add('falling-hearts-container');
                 document.body.appendChild(container);
            }
            
            const container = document.querySelector('.falling-hearts-container');
            const numberOfHearts = 25; 

            for (let i = 0; i < numberOfHearts; i++) {
                const heart = document.createElement('span');
                heart.classList.add('falling-heart');
                heart.textContent = '❤️'; 
                
                // Posición horizontal aleatoria
                const randomLeft = Math.random() * 100; 
                heart.style.left = `${randomLeft}vw`;

                // Retraso de animación aleatorio
                const randomDelay = Math.random() * (baseDuration * 0.7); 
                heart.style.animationDelay = `${randomDelay}s`;

                // Duración de animación aleatoria (define la velocidad de caída)
                const randomDuration = baseDuration * 0.8 + Math.random() * (baseDuration * 0.4); 
                heart.style.animationDuration = `${randomDuration}s`;

                // Tamaño ligeramente aleatorio
                const randomSize = 0.6 + Math.random() * 0.4; 
                heart.style.fontSize = `${randomSize}em`;

                container.appendChild(heart);
            }
        }
        
        // --- FUNCIÓN CLAVE MODIFICADA: Mueve el BOTÓN 'NO' sin superponerse ---
        function moveNoButton(buttonElement) {
            const wrapperElement = buttonElement.parentNode;
            buttonElement.classList.add('shake-animation');
            setTimeout(() => {
                buttonElement.classList.remove('shake-animation');
            }, 300); 

            const wrapperWidth = 280; 
            const buttonWidth = 130;
            const maxTranslation = wrapperWidth - buttonWidth; 
            const newX = Math.floor(Math.random() * maxTranslation);
            const newY = Math.floor(Math.random() * 20); 

            buttonElement.style.transform = `translateX(-${newX}px) translateY(${newY}px)`; 
        }

        // --- PÁGINA DE AGRADECIMIENTO (SI ACEPTADO) ---
        function handleYesAccepted() {
            const FAST_DURATION = 3; 
            const HAPPY_GIF = "https://www.dropbox.com/scl/fi/9ewcjm71lci7d6rn76fta/GIF_20251001_224120_068.gif?rlkey=62ydfi3h0xf78e081ue0g8fxw&raw=1";
            
            const newContent = `
                <div class="falling-hearts-container"></div> 
                <div class="container">
                    <img src="${HAPPY_GIF}" 
                        alt="GIF de gatito feliz saltando" 
                        class="accepted-image">
                    
                    <div class="question">
                        "GRACIAS POR DECIR QUE SÍ" 
                        🌹❤️
                    </div>

                    <p class="subtitle">
                        "Te amo mucho" ❤️😍
                    </p>
                </div>
            `;
            document.body.innerHTML = newContent;
            document.body.className = 'mode-accepted';
            document.title = "¡Me Perdonaste! 🎉";
            createFallingHearts(FAST_DURATION); 
        }


        // PÁGINA 3: "SERÁS MÍA... QUIERAS O NO"
        function handleSerasMia() {
            const RAPID_DURATION = 5; 

            const newContent = `
                <div class="falling-hearts-container"></div> 
                <div class="container">
                    <img src="https://www.dropbox.com/scl/fi/v2fxssep5ib0vqjkq0fgp/GIF_20251001_224340_812.gif?rlkey=0jt7dsecia23vrs7z35vuymgy&raw=1" 
                        alt="GIF de gatito malvado" 
                        class="cat-image">
                    
                    <div class="question">
                        "SERÁS MÍA...QUIERAS O NO"
                    </div>
                    
                    <div class="emojis-flex">
                        ❤️😝❤️
                    </div>

                    <div class="seras-mia-buttons">
                        <button class="button si" onclick="handleYesAccepted();">SI</button>
                        
                        <div class="button-no-wrapper">
                            <button class="button no" onclick="moveNoButton(this);">NO</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.innerHTML = newContent;
            document.body.className = 'mode-seras-mia';
            document.title = "¡No Tienes Opción! 😏";
            createFallingHearts(RAPID_DURATION); 
        }


        // PÁGINA 2: Gatito (AHORA FELIZ) con fondo BLANCO
        function handleNoSadCat() {
            const MEDIUM_DURATION = 7; 
            const P2_GIF = "https://www.dropbox.com/scl/fi/9ewcjm71lci7d6rn76fta/GIF_20251001_224120_068.gif?rlkey=62ydfi3h0xf78e081ue0g8fxw&raw=1";


            const newContent = `
                <div class="falling-hearts-container"></div> 
                <div class="container">
                    <img src="${P2_GIF}" 
                        alt="GIF de gatito feliz saltando" 
                        class="cat-image">
                    
                    <div class="question">
                        "POR FAVOR PERDÓNAME" 
                        <span class="heart-blink">❤️</span>
                    </div>

                    <p class="subtitle">
                        "Me Haces Tanta Falta" 🥺❤️
                    </p>

                    <div class="buttons-container">
                        <button class="button si" onclick="handleYesAccepted();">SI</button>
                        <button class="button no" onclick="handleSerasMia();">NO</button>
                    </div>
                </div>
            `;
            document.body.innerHTML = newContent;
            document.body.className = 'mode-no-sad-cat';
            document.title = "¡Me Rompiste el Corazón! 💔";
            createFallingHearts(MEDIUM_DURATION); 
        }

        // Inicializar los corazones al cargar la primera página (velocidad por defecto: 10s)
        document.addEventListener('DOMContentLoaded', () => createFallingHearts(10));
    </script>
</head>
<body>
    <div class="falling-hearts-container"></div> 
    <div class="container">
        <img src="https://www.dropbox.com/scl/fi/zgkkgwdmc8wl1dwylw3hj/GIF_20251001_220116_010.gif?rlkey=pclrb4f24t2w68prj8j22wyh0&raw=1" 
             alt="GIF de disculpa" 
             class="cat-image">
        
        <div class="question">
            POR FAVOR PERDÓNAME 🌹
            <span class="emoji-sad">🥺</span>
        </div>

        <p class="subtitle">
            Te Extraño Mucho Mi Amor 💕
        </p>

        <div class="buttons-container">
            <button class="button si" onclick="handleYesAccepted();">SI</button>
            <button class="button no" onclick="handleNoSadCat();">NO</button> 
        </div>
    </div>
</body>
</html>
